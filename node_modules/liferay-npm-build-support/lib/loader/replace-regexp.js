"use strict";
/**
 * Â© 2017 Liferay, Inc. <https://liferay.com>
 *
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * A loader that replaces regular expressions inside a file.
 */
function default_1(context, options) {
    const { content, log } = context;
    const { pattern, flags = 'g', replacement } = options;
    const regexp = new RegExp(pattern, flags);
    const matches = regexp.exec(content);
    if (!matches) {
        log.info('replace-regexp', `No occurences of ${pattern} found; nothing to be done`);
        return content;
    }
    log.info('replace-regexp', `Replaced ${matches.length} occurences of ${pattern}`);
    return content.replace(regexp, replacement);
}
exports.default = default_1;
